"use strict";(self.webpackChunkcommunity_box=self.webpackChunkcommunity_box||[]).push([[501],{6251:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(4165),o=r(5861),i=r(9439),a=r(2791),l=r(9434),s=r(7964),u=r(4942),d=r(1413),c=r(5931),m=r.p+"static/media/comintro.cddb7f1d94512c3db2ec.jpg",h=r(3329),f=a.forwardRef((function(e,t){return(0,h.jsx)(c.Z,(0,d.Z)({direction:"down",ref:t},e))})),g=function(e){var t=e.open,r=e.handleClose,c=(0,l.v9)((function(e){return e.auth.user.uid})),g=(0,a.useState)(!1),x=(0,i.Z)(g,2),b=x[0],p=x[1],y=(0,a.useState)({}),v=(0,i.Z)(y,2),w=v[0],k=v[1],j=(0,a.useState)({country:"",location:"",phoneNumber:""}),N=(0,i.Z)(j,2),Z=N[0],C=N[1],W=function(e,t){var r="";return""===t.trim()?r="This field is required":"phoneNumber"===e&&(!/^\+?[1-9]\d{1,14}$/.test(t)||t.length<10)&&(r="Please enter a valid phone number with at least 10 digits e.g+256xxxx"),r},S=function(e){var t=e.target,r=t.id,n=t.value,o=W(r,n);C((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,u.Z)({},r,n))})),k((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,u.Z)({},r,o))}))},B=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var o,i,a,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t.preventDefault(),o=!0,i={},Z)l=W(a,Z[a]),i[a]=l,l&&(o=!1);k(i),o?(p(!0),(0,s.ek)(c,Z).then((function(){r()})).catch((function(e){console.log(e),p(!1)}))):console.log("Invalid form submission");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsx)("div",{style:{margin:0,padding:"10px",display:t?"block":"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999},children:(0,h.jsx)(f,{in:t,children:(0,h.jsx)("div",{style:{backgroundColor:"white",maxWidth:"850px",width:"100%",height:"auto",margin:"50px auto",borderRadius:"10px"},children:(0,h.jsxs)("div",{className:"lg:grid lg:grid-cols-2 lg:gap-0 p-0 m-0 w-full",children:[(0,h.jsxs)("div",{style:{height:window.innerWidth<=768?"200px":""},className:"flex-1 relative lg:h-auto",children:[(0,h.jsx)("img",{style:{height:window.innerWidth<=768?"200px":""},src:m,alt:"Community",className:"w-full h-auto object-cover"}),(0,h.jsx)("div",{style:{display:window.innerWidth<=768?"none":"",background:window.innerWidth<=768?"":"linear-gradient(to top, rgba(28,39,76,0.8) 40%, rgba(28,39,76,0) 100%)"},className:"xs:bg-gradient-to-t from-blue-900 via-blue-900 to-transparent lg:bg-gradient-to-t lg:absolute lg:bottom-0 lg:right-0 text-white p-5 text-3xl",children:"Thank you for joining our community! Please update your details before proceeding."})]}),(0,h.jsx)("div",{style:{flex:window.innerWidth<=768?"":"1 1 50%",padding:window.innerWidth<=768?"":"1em"},children:(0,h.jsxs)("form",{style:{padding:window.innerWidth<=768?"1em":""},onSubmit:B,children:[(0,h.jsxs)("h2",{style:{color:"black",marginBottom:"1em",display:"flex",flexDirection:"column"},children:[(0,h.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.5em",textAlign:"left",textTransform:"uppercase",letterSpacing:"0.1em",lineHeight:"1.0em"},children:"Welcome to Our Community!"}),(0,h.jsx)("small",{className:"mt-2",children:"Complete your profile to continue."})]}),(0,h.jsxs)("div",{style:{marginBottom:window.innerWidth<=768?"":"5px"},children:[(0,h.jsx)("label",{htmlFor:"country",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Country"}),(0,h.jsx)("input",{type:"text",id:"country",value:Z.country,onChange:S,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 sm:text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(w.country?"border-red-500":""),onBlur:function(e){return W(e.target.id,e.target.value)}}),w.country&&(0,h.jsx)("small",{style:{color:"red"},children:w.country})]}),(0,h.jsxs)("div",{style:{marginBottom:window.innerWidth<=768?"":"5px"},children:[(0,h.jsx)("label",{htmlFor:"location",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Address / location"}),(0,h.jsx)("input",{type:"text",id:"location",value:Z.location,onChange:S,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 sm:text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(w.location?"border-red-500":""),onBlur:function(e){return W(e.target.id,e.target.value)}}),w.location&&(0,h.jsx)("small",{style:{color:"red"},children:w.location})]}),(0,h.jsxs)("div",{style:{marginBottom:window.innerWidth<=768?"":"5px"},children:[(0,h.jsx)("label",{htmlFor:"phoneNumber",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Phone Number"}),(0,h.jsx)("input",{type:"tel",id:"phoneNumber",value:Z.phoneNumber,onChange:S,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 sm:text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(w.phoneNumber?"border-red-500":""),onBlur:function(e){return W(e.target.id,e.target.value)}}),w.phoneNumber&&(0,h.jsx)("small",{style:{color:"red"},children:w.phoneNumber})]}),(0,h.jsx)("div",{className:"flex justify-end w-full",children:(0,h.jsx)("button",{type:"submit",className:"".concat(b?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"," w-full py-2 mt-4 text-sm font-medium text-white transition duration-300 ease-in-out transform rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"),children:"Update Details"})})]})})]})})})})},x=a.lazy((function(){return Promise.resolve().then(r.bind(r,5160))})),b=a.lazy((function(){return Promise.resolve().then(r.bind(r,2559))})),p=function(e){var t=e.children,r=e.title,u=(0,a.useState)(!1),d=(0,i.Z)(u,2),c=d[0],m=d[1],f=(0,l.v9)((function(e){var t,r;return null===(t=e.auth)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.uid})),p=(0,l.v9)((function(e){var t,r;return null===(t=e.auth)||void 0===t||null===(r=t.accessToken)||void 0===r?void 0:r.token})),y=(0,l.v9)((function(e){var t,r;return null===(t=e.auth)||void 0===t||null===(r=t.accessToken)||void 0===r?void 0:r.anonymous})),v=(0,a.useState)(!1),w=(0,i.Z)(v,2),k=w[0],j=w[1];return(0,a.useEffect)((function(){var e=!1,t=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f||!p||y){t.next=5;break}return t.next=3,(0,s.be)(f);case 3:r=t.sent,e||!r||r.hasPhoneNumber?j(!1):j(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[f,p,y]),(0,a.useEffect)((function(){var e=function(){window.innerWidth<640&&!c&&m(!0)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[c]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{onClick:function(){return m(!c)},value:c}),(0,h.jsx)(b,{show:c,setShowSideBar:m}),(0,h.jsx)("div",{className:"p-4 sm:ml-64",children:(0,h.jsxs)("div",{className:"mt-20 lg:mt-14 h-full lg:mx-6",children:[(0,h.jsx)("div",{className:"flex items-center justify-between mb-4",children:r&&(0,h.jsx)("h1",{className:"text-lg lg:text-4xl font-bold text-gray-800 dark:text-white",children:r})}),t]})}),!y&&p&&(0,h.jsx)(g,{open:k,handleClose:function(){return j(!1)}})]})}},4151:function(e,t,r){r.r(t);var n=r(1413),o=r(9439),i=r(2791),a=r(6251),l=r(541),s=r(1305),u=r(9434),d=r(3329);t.default=function(){var e=(0,i.useState)(!0),t=(0,o.Z)(e,2),r=t[0],c=t[1],m=(0,u.v9)((function(e){return e.actionReducer.reload})),h=(0,i.useState)([]),f=(0,o.Z)(h,2),g=f[0],x=f[1];return(0,i.useEffect)((function(){c(!0);var e=(0,l.Jq)((function(e){var t=e.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{user:(0,n.Z)({},e.user)})}));t.forEach((function(e){e.displayName=e.user.displayName,e.photoURL=e.user.photoURL,e.phoneNumber=e.user.phoneNumber})),x(t),c(!1)}));return function(){e()}}),[m]),(0,d.jsx)(a.Z,{children:(0,d.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,d.jsx)("div",{className:"col-span-2 md:col-span-2 gap-4 h-screen",children:(0,d.jsx)(s.y4,{post:g,comment:!0,loading:r})})})})}}}]);
//# sourceMappingURL=501.3ca04546.chunk.js.map