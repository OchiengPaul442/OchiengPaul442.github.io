"use strict";(self.webpackChunkcommunity_box=self.webpackChunkcommunity_box||[]).push([[458],{6251:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(4165),o=r(5861),i=r(9439),a=r(2791),l=r(9434),s=r(7964),u=r(4942),c=r(1413),d=r(5931),m=r.p+"static/media/comintro.cddb7f1d94512c3db2ec.jpg",f=r(3329),h=a.forwardRef((function(e,t){return(0,f.jsx)(d.Z,(0,c.Z)({direction:"down",ref:t},e))})),g=function(e){var t=e.open,r=e.handleClose,d=(0,l.v9)((function(e){return e.auth.user.uid})),g=(0,a.useState)(!1),x=(0,i.Z)(g,2),b=x[0],p=x[1],y=(0,a.useState)({}),w=(0,i.Z)(y,2),v=w[0],j=w[1],k=(0,a.useState)({country:"",location:"",phoneNumber:""}),N=(0,i.Z)(k,2),Z=N[0],C=N[1],S=function(e,t){var r="";return""===t.trim()?r="This field is required":"phoneNumber"===e&&(!/^\+?[1-9]\d{1,14}$/.test(t)||t.length<10)&&(r="Please enter a valid phone number with at least 10 digits e.g+256xxxx"),r},W=function(e){var t=e.target,r=t.id,n=t.value,o=S(r,n);C((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,u.Z)({},r,n))})),j((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,u.Z)({},r,o))}))},E=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var o,i,a,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t.preventDefault(),o=!0,i={},Z)l=S(a,Z[a]),i[a]=l,l&&(o=!1);j(i),o?(p(!0),(0,s.ek)(d,Z).then((function(){r()})).catch((function(e){console.log(e),p(!1)}))):console.log("Invalid form submission");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)("div",{style:{margin:0,padding:"10px",display:t?"block":"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999},children:(0,f.jsx)(h,{in:t,children:(0,f.jsx)("div",{style:{backgroundColor:"white",maxWidth:"850px",width:"100%",height:"auto",margin:"50px auto",borderRadius:"10px"},children:(0,f.jsxs)("div",{className:"lg:grid lg:grid-cols-2 lg:gap-0 p-0 m-0 w-full",children:[(0,f.jsxs)("div",{style:{height:window.innerWidth<=768?"200px":""},className:"flex-1 relative lg:h-auto",children:[(0,f.jsx)("img",{style:{height:window.innerWidth<=768?"200px":""},src:m,alt:"Community",className:"w-full h-auto object-cover"}),(0,f.jsx)("div",{style:{display:window.innerWidth<=768?"none":"",background:window.innerWidth<=768?"":"linear-gradient(to top, rgba(28,39,76,0.8) 40%, rgba(28,39,76,0) 100%)"},className:"xs:bg-gradient-to-t from-blue-900 via-blue-900 to-transparent lg:bg-gradient-to-t lg:absolute lg:bottom-0 lg:right-0 text-white p-5 text-3xl",children:"Thank you for joining our community! Please update your details before proceeding."})]}),(0,f.jsx)("div",{style:{flex:window.innerWidth<=768?"":"1 1 50%",padding:window.innerWidth<=768?"":"1em"},children:(0,f.jsxs)("form",{style:{padding:window.innerWidth<=768?"1em":""},onSubmit:E,children:[(0,f.jsxs)("h2",{style:{color:"black",marginBottom:"1em",display:"flex",flexDirection:"column"},children:[(0,f.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.5em",textAlign:"left",textTransform:"uppercase",letterSpacing:"0.1em",lineHeight:"1.0em"},children:"Welcome to Our Community!"}),(0,f.jsx)("small",{className:"mt-2",children:"Complete your profile to continue."})]}),(0,f.jsxs)("div",{style:{marginBottom:window.innerWidth<=768?"":"5px"},children:[(0,f.jsx)("label",{htmlFor:"country",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Country"}),(0,f.jsx)("input",{type:"text",id:"country",value:Z.country,onChange:W,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 sm:text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(v.country?"border-red-500":""),onBlur:function(e){return S(e.target.id,e.target.value)}}),v.country&&(0,f.jsx)("small",{style:{color:"red"},children:v.country})]}),(0,f.jsxs)("div",{style:{marginBottom:window.innerWidth<=768?"":"5px"},children:[(0,f.jsx)("label",{htmlFor:"location",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Address / location"}),(0,f.jsx)("input",{type:"text",id:"location",value:Z.location,onChange:W,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 sm:text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(v.location?"border-red-500":""),onBlur:function(e){return S(e.target.id,e.target.value)}}),v.location&&(0,f.jsx)("small",{style:{color:"red"},children:v.location})]}),(0,f.jsxs)("div",{style:{marginBottom:window.innerWidth<=768?"":"5px"},children:[(0,f.jsx)("label",{htmlFor:"phoneNumber",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Phone Number"}),(0,f.jsx)("input",{type:"tel",id:"phoneNumber",value:Z.phoneNumber,onChange:W,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 sm:text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(v.phoneNumber?"border-red-500":""),onBlur:function(e){return S(e.target.id,e.target.value)}}),v.phoneNumber&&(0,f.jsx)("small",{style:{color:"red"},children:v.phoneNumber})]}),(0,f.jsx)("div",{className:"flex justify-end w-full",children:(0,f.jsx)("button",{type:"submit",className:"".concat(b?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"," w-full py-2 mt-4 text-sm font-medium text-white transition duration-300 ease-in-out transform rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"),children:"Update Details"})})]})})]})})})})},x=a.lazy((function(){return Promise.resolve().then(r.bind(r,5160))})),b=a.lazy((function(){return Promise.resolve().then(r.bind(r,2559))})),p=function(e){var t=e.children,r=e.title,u=(0,a.useState)(!1),c=(0,i.Z)(u,2),d=c[0],m=c[1],h=(0,l.v9)((function(e){return e.auth.user.uid})),p=(0,l.v9)((function(e){return e.auth.accessToken.token})),y=(0,l.v9)((function(e){return e.auth.accessToken.anonymous})),w=(0,a.useState)(!1),v=(0,i.Z)(w,2),j=v[0],k=v[1];return(0,a.useEffect)((function(){var e=!1,t=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h||!p||y){t.next=5;break}return t.next=3,(0,s.be)(h);case 3:r=t.sent,e||!r||r.hasPhoneNumber?k(!1):k(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[h,p,y]),(0,a.useEffect)((function(){var e=function(){window.innerWidth<640&&!d&&m(!0)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[d]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x,{onClick:function(){return m(!d)},value:d}),(0,f.jsx)(b,{show:d,setShowSideBar:m}),(0,f.jsx)("div",{className:"p-4 sm:ml-64",children:(0,f.jsxs)("div",{className:"mt-20 lg:mt-14 h-full lg:mx-6",children:[(0,f.jsx)("div",{className:"flex items-center justify-between mb-4",children:r&&(0,f.jsx)("h1",{className:"text-lg lg:text-4xl font-bold text-gray-800 dark:text-white",children:r})}),t]})}),!y&&p&&(0,f.jsx)(g,{open:j,handleClose:function(){return k(!1)}})]})}},8244:function(e,t,r){r.r(t);var n=r(1413),o=r(9439),i=r(2791),a=r(9434),l=r(6251),s=r(1305),u=r(541),c=r(3329);t.default=function(){var e=(0,a.I0)(),t=(0,a.v9)((function(e){return e.categories.categories})),r=(0,a.v9)((function(e){return e.actionReducer.reload})),d=(0,i.useState)(!0),m=(0,o.Z)(d,2),f=m[0],h=m[1],g=(0,i.useState)([]),x=(0,o.Z)(g,2),b=x[0],p=x[1];(0,i.useEffect)((function(){h(!0);var e=(0,u.Jq)((function(e){var t=e.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{user:(0,n.Z)({},e.user)})}));t.forEach((function(e){e.displayName=e.user.displayName,e.photoURL=e.user.photoURL,e.phoneNumber=e.user.phoneNumber})),p(t),h(!1)}));return function(){e()}}),[r]);var y=b.filter((function(e){return e.type===t}));return(0,c.jsx)(l.Z,{children:(0,c.jsx)("div",{className:"flex flex-col items-center gap-4",children:(0,c.jsxs)("div",{className:"w-full max-w-3xl",children:["/"===window.location.pathname&&(0,c.jsx)("div",{className:"inline-flex md:hidden mb-4 w-full justify-center",children:(0,c.jsx)(s.tD,{handleCategory:function(t){return function(r){r.preventDefault(),e({type:"SET_CATEGORIES",payload:t})}},categories:t})}),(0,c.jsx)(s.y4,{post:y,comment:!1,loading:f,quantity:!0})]})})})}}}]);
//# sourceMappingURL=458.1aa83ac2.chunk.js.map